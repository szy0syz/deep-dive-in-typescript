# deep-dive-in-typescript

> 系统学习 typescript

- 痛点：已经掌握大量TS基本语法，但不能应付公司中大中型项目的要求。

知识点

- 原型、类、引用属性
- 单件设计模式 + 各种扩展
- 各种重载 + 实战
- 继承 + 手写优化TS继承源码
- 类型守护+自定义守卫+多态+实战
- 各种泛型技能+实战
- 装饰器
- 手写Promise
- 手写Vuex源码

> 大中型前端项目良好扩展性的编码组合：TS泛型接口+TS泛型类+泛型约束+多态

## Ch02

为什么要用原型、原型的好处？

> 原型上有所有的方法和属性都可以被构造函数的实例共享。【实际开发中原型主要共享方法和所有实际公共引用属性】

没有用原型会有什么问题？

> 所有实例对象上都有相同的XXX属性，都有相同的OOO方法。但我们发霉每个实例都单独分配了重复的XXX属性空间和OOO方法空间，导致大量的空间浪费。
>
> 所以使用原型可以解决所有实例上的方法和共同属性都放到原型上。

认识函数+原型定义

- 函数也是一个对象，当真正开始执行函数时，运行时会为函数分配一个函数对象变量空间和函数对象空间，函数对象变量用函数名表示，存在栈空间中，函数对象空间是在堆中开辟的一个内存空间，这个空间中有一个默认的prototype属性，这个prototype属性就是一个原型对象属性或对象变量。
- 函数和构造函数的区别
  - 当通过 new 函数执行函数时，此刻这个函数就是一个构造函数
- 定义：原型【prototype】是定义函数由JS自动分配给函数的一个可以背所有构造函数实例对象变量共享的对象变量。

构造函数实例对象如何访问原型对象空间上的属性和方法

- 构造函数实例访问一个属性和方法，首先从实例空间中查找，如果找到该属性或方法，就停止查找，表示找到了；如何没有找到，就继续在该实际的原型对象空间中去查找该属性和方法【实际中默认的__proto__对象属性指向原型对象空间】

什么是类

定义： 类就是拥有相同属性和方法的一系列对象的集合，类是一个模具，是从该类包含的所有具体对象中抽象出来的一个概念，类定义了它所包含的全体对象和静态特征和动态特征。

类的静态特征叫属性：姓名、地址、手机号
类的动态特征叫方法：吃饭、走路

再看订单类：静态特征属性有订单号、下单时间、下单顾客、订单详情等，动态特征方法有下单、修改订单、删除订单、退单等

### 创建对象一共做了三件事

1. 在堆中为类的某个对象实例分配一个空间
2. 调用对应的构造函数并把构造函数中的各个参数值赋值给对象属性
3. 把对象复制给对象变量，把实例复制给实例变量

给构造函数的参数上加修饰符(public、private)时，这个参数就会变成一个属性，而且TS会自动从参数隐式赋值，省去麻烦。
